{"version":3,"file":"bundle.js","sources":["webpack/bootstrap","/Users/sandeepacharya/FusionBoard/layout/node_modules/layout-model/dist/layout.js","/Users/sandeepacharya/FusionBoard/layout/node_modules/webpack/buildin/global.js","/Users/sandeepacharya/FusionBoard/layout/src/constants/defaults.js","/Users/sandeepacharya/FusionBoard/layout/src/controller/controller.js","/Users/sandeepacharya/FusionBoard/layout/src/data-adapters/data-parser.js","/Users/sandeepacharya/FusionBoard/layout/src/data-adapters/html-data.js","/Users/sandeepacharya/FusionBoard/layout/src/data-adapters/svg-data.js","/Users/sandeepacharya/FusionBoard/layout/src/main.js","/Users/sandeepacharya/FusionBoard/layout/src/models/data-point.js","/Users/sandeepacharya/FusionBoard/layout/src/renderers/html-renderer.js","/Users/sandeepacharya/FusionBoard/layout/src/renderers/svg-renderer.js","/Users/sandeepacharya/FusionBoard/layout/src/utils/utils.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"layout\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"layout\"] = factory();\n\telse\n\t\troot[\"layout\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.determineBoundBox = exports.xExtraSpace = exports.yExtraSpace = exports.getNodeId = exports.isEqual = exports.DummyComponent = undefined;\n\nvar _dummycomponent = __webpack_require__(7);\n\nvar _dummycomponent2 = _interopRequireDefault(_dummycomponent);\n\nvar _utils = __webpack_require__(8);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.DummyComponent = _dummycomponent2.default;\nexports.isEqual = _utils.isEqual;\nexports.getNodeId = _utils.getNodeId;\nexports.yExtraSpace = _utils.yExtraSpace;\nexports.xExtraSpace = _utils.xExtraSpace;\nexports.determineBoundBox = _utils.determineBoundBox;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Layout = __webpack_require__(3);\n\nvar _Layout2 = _interopRequireDefault(_Layout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Layout2.default;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DummyComponent = exports.Layout = undefined;\n\nvar _layout = __webpack_require__(1);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Layout = _layout2.default;\nexports.DummyComponent = _utils.DummyComponent;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tree = __webpack_require__(4);\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Layout = function () {\n    function Layout(measurements, config) {\n        _classCallCheck(this, Layout);\n\n        this.measurements = measurements;\n        this.config = config;\n        this.root = this.createTree(this.config, null);\n        this.setBoundBox();\n    }\n\n    _createClass(Layout, [{\n        key: 'createTree',\n        value: function createTree(config, parent) {\n            var node = new _tree2.default(config);\n            if (parent) {\n                node._parentCut = parent.getCutType();\n                parent.addChildren([node]);\n            } else {\n                this.root = node;\n            }\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = config.lanes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var lane = _step.value;\n\n                    this.createTree(lane, node);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return this.root;\n        }\n    }, {\n        key: 'allocateBoundingBox',\n        value: function allocateBoundingBox(node) {\n            var _this = this;\n\n            var totalWeight = node.children.map(function (child) {\n                return child.model.ratioWeight;\n            }).reduce(function (carry, val) {\n                return carry + val;\n            }, 0);\n\n            node.children.forEach(function (child, i, children) {\n                var lastSibling = children[i - 1],\n                    ratio = child.model.ratioWeight / totalWeight;\n\n                if (child._parentCut === 'h') {\n                    child.boundBox.width = child.parent.boundBox.width;\n                    child.boundBox.height = child.parent.boundBox.height * ratio;\n                    child.boundBox.left = child.parent.boundBox.left;\n                    child.boundBox.top = i ? lastSibling.boundBox.top + lastSibling.boundBox.height : 0;\n                } else {\n                    child.boundBox.width = child.parent.boundBox.width * ratio;\n                    child.boundBox.height = child.parent.boundBox.height;\n                    child.boundBox.top = child.parent.boundBox.top;\n                    child.boundBox.left = i ? lastSibling.boundBox.left + lastSibling.boundBox.width : 0;\n                }\n                _this.allocateBoundingBox(child);\n            });\n        }\n    }, {\n        key: 'setBoundBox',\n        value: function setBoundBox() {\n            this.root.boundBox = {\n                top: 0,\n                left: 0,\n                width: this.measurements.width,\n                height: this.measurements.height\n            };\n            this.allocateBoundingBox(this.root);\n        }\n    }, {\n        key: 'negotiateDimension',\n        value: function negotiateDimension(node) {\n            var preferred = void 0,\n                cumultiveExtraSpaceAmt = 0,\n                alteredDim = void 0,\n                nonAlteredDim = void 0,\n                childrenLength = node.children.length;\n\n            for (var index = 0; index < childrenLength; index++) {\n                var fn = void 0,\n                    extraSpaceAmt = void 0,\n                    child = node.children[index];\n\n                if (child._parentCut === 'h') {\n                    fn = _utils.yExtraSpace;\n                    alteredDim = 'height';\n                    nonAlteredDim = 'width';\n                } else {\n                    fn = _utils.xExtraSpace;\n                    alteredDim = 'width';\n                    nonAlteredDim = 'height';\n                }\n                // if vertical then get extra height from other node and push it to the preferred node.\n                // for horizontal cut the same thing is to be done with width\n                if (child.isPreferred()) {\n                    // push extra space in sink. Execute it when all non preferred space are computed.\n                    preferred = child;\n\n                    continue;\n                }\n                // reduce own height and save it in a var\n                cumultiveExtraSpaceAmt += extraSpaceAmt = fn(child);\n                child.boundBox[alteredDim] -= extraSpaceAmt;\n                // update nonaltered dim from parent for any change which happened during negotiation\n                child.boundBox[nonAlteredDim] = child.parent.boundBox[nonAlteredDim];\n\n                this.negotiateDimension(child);\n            }\n\n            if (preferred) {\n                preferred.boundBox[alteredDim] += cumultiveExtraSpaceAmt;\n                preferred.boundBox[nonAlteredDim] = preferred.parent.boundBox[nonAlteredDim];\n                this.negotiateDimension(preferred);\n            }\n        }\n    }, {\n        key: 'computePosition',\n        value: function computePosition(node) {\n            var _this2 = this;\n\n            node.children.forEach(function (child, i, children) {\n                var boundBox = (0, _utils.determineBoundBox)(child.boundBox, i, children, child);\n                child.boundBox = boundBox;\n                _this2.computePosition(child);\n            });\n        }\n    }, {\n        key: 'setHostPosition',\n        value: function setHostPosition(node) {\n            var _this3 = this;\n\n            node.children.forEach(function (child) {\n                Layout.setHostSpatialConfig(child);\n                _this3.setHostPosition(child);\n            });\n        }\n    }, {\n        key: 'negotiate',\n        value: function negotiate() {\n            this.negotiateDimension(this.root);\n            this.computePosition(this.root);\n            this.setHostPosition(this.root);\n            return this;\n        }\n    }, {\n        key: 'tree',\n        value: function tree() {\n            return this.root;\n        }\n    }], [{\n        key: 'setHostSpatialConfig',\n        value: function setHostSpatialConfig(node) {\n            var boundBox = node.boundBox;\n            if (node.model.host && node.model.host.setSpatialConfig) {\n                node.model.host.setSpatialConfig(boundBox.left, boundBox.top, boundBox.width, boundBox.height);\n            }\n        }\n    }]);\n\n    return Layout;\n}();\n\nexports.default = Layout;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _node = __webpack_require__(5);\n\nvar _node2 = _interopRequireDefault(_node);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _node2.default;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(0);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Node = function () {\n    function Node(data) {\n        _classCallCheck(this, Node);\n\n        this.model = data;\n        this.parent = null;\n        this.children = [];\n\n        this.boundBox = {\n            top: null,\n            left: null,\n            height: null,\n            width: null\n        };\n\n        this._id = (0, _utils.getNodeId)();\n    }\n\n    _createClass(Node, [{\n        key: 'addChildren',\n        value: function addChildren(entries) {\n            var _children,\n                _this = this;\n\n            (_children = this.children).push.apply(_children, _toConsumableArray(entries));\n            entries.forEach(function (e) {\n                e.parent = _this;\n            });\n        }\n    }, {\n        key: 'isRoot',\n        value: function isRoot() {\n            return this.parent === null;\n        }\n    }, {\n        key: 'isLeaf',\n        value: function isLeaf() {\n            return !this.children.length;\n        }\n    }, {\n        key: 'getCutType',\n        value: function getCutType() {\n            return this.model.cut;\n        }\n    }, {\n        key: 'isPreferred',\n        value: function isPreferred() {\n            return !!this.model.preferred;\n        }\n    }]);\n\n    return Node;\n}();\n\nexports.default = Node;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable require-jsdoc */\nvar DummyComponent = function () {\n    function DummyComponent(seed, dimensions) {\n        _classCallCheck(this, DummyComponent);\n\n        this.seed = seed;\n        this.dimensions = dimensions;\n        this.position = null;\n    }\n\n    _createClass(DummyComponent, [{\n        key: \"getLogicalSpace\",\n        value: function getLogicalSpace() {\n            return {\n                width: this.dimensions.width - 1 * this.seed,\n                height: this.dimensions.height - 1 * this.seed\n            };\n        }\n    }, {\n        key: \"setSpatialConfig\",\n        value: function setSpatialConfig(x, y, width, height) {\n            this.position = { top: y, left: x };\n            this.dimensions = { width: width, height: height };\n        }\n    }]);\n\n    return DummyComponent;\n}();\n\nexports.default = DummyComponent;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _DummyComponent = __webpack_require__(6);\n\nvar _DummyComponent2 = _interopRequireDefault(_DummyComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _DummyComponent2.default;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Compares two strings in lowercase\n *\n * @export\n * @param {string} value the value to be compared\n * @param {string} compareTo whom the value would be compared\n * @return {boolean} true if values are equal\n */\nfunction isEqual(value, compareTo) {\n    if (typeof value !== 'string' || typeof compareTo !== 'string') {\n        throw new TypeError('value and compareTo must be string');\n    }\n    return value.toLowerCase() === compareTo.toLowerCase();\n}\n\nvar getNodeId = function () {\n    var _uid = 0;\n    return function () {\n        ++_uid;\n        return 'node-' + _uid;\n    };\n}();\n\nfunction yExtraSpace(node) {\n    var smallestHeight = 0;\n    if (node.getCutType() === 'v') {\n        smallestHeight = smallestExtraHeightHorizontally(node);\n    } else if (node.getCutType() === 'h') {\n        node.children.forEach(function (child) {\n            smallestHeight += yExtraSpace(child);\n        });\n    } else if (node.model.host && node.model.host.getLogicalSpace) {\n        var containerHeight = node.boundBox.height,\n            hostHeight = node.model.host.getLogicalSpace().height;\n\n        smallestHeight = containerHeight - hostHeight;\n        if (smallestHeight < 0) {\n            smallestHeight = 0;\n        }\n    } else {\n        smallestHeight = 0;\n    }\n    return smallestHeight;\n}\n\nfunction smallestExtraHeightHorizontally(node) {\n    var smallestHeight = Number.MAX_SAFE_INTEGER;\n    node.children.forEach(function (child) {\n        var h = yExtraSpace(child);\n        if (h < smallestHeight) {\n            smallestHeight = h;\n        }\n    });\n    return smallestHeight;\n}\n\nfunction xExtraSpace(node) {\n    var smallestWidth = 0;\n    if (node.getCutType() === 'h') {\n        smallestWidth = smallestExtraWidthVertically(node);\n    } else if (node.getCutType() === 'v') {\n        node.children.forEach(function (child) {\n            smallestWidth += xExtraSpace(child);\n        });\n    } else if (node.model.host && node.model.host.getLogicalSpace) {\n        var containerWidth = node.boundBox.width,\n            hostWidth = node.model.host.getLogicalSpace().width;\n        smallestWidth = containerWidth - hostWidth;\n        if (smallestWidth < 0) {\n            smallestWidth = 0;\n        }\n    } else {\n        smallestWidth = 0;\n    }\n    return smallestWidth;\n}\n\nfunction smallestExtraWidthVertically(node) {\n    var smallestWidth = Number.MAX_SAFE_INTEGER;\n    node.children.forEach(function (child) {\n        var w = xExtraSpace(child);\n        if (w < smallestWidth) {\n            smallestWidth = w;\n        }\n    });\n    return smallestWidth;\n}\n\nfunction determineBoundBox(bb, i, arr, instance) {\n    if (i) {\n        // if not first sibling, take boundbox from previous sibling\n        var lastSibling = arr[i - 1];\n        return {\n            width: bb.width,\n            height: bb.height,\n\n            top: instance._parentCut === 'h' ? lastSibling.boundBox.top + lastSibling.boundBox.height : lastSibling.boundBox.top,\n\n            left: instance._parentCut === 'h' ? lastSibling.boundBox.left : lastSibling.boundBox.left + lastSibling.boundBox.width\n        };\n    }\n    // if first sibling, take boundbox from parent\n    return {\n        width: bb.width,\n        height: bb.height,\n        top: instance.parent.boundBox.top,\n        left: instance.parent.boundBox.left\n    };\n}\n\nexports.isEqual = isEqual;\nexports.getNodeId = getNodeId;\nexports.yExtraSpace = yExtraSpace;\nexports.xExtraSpace = xExtraSpace;\nexports.determineBoundBox = determineBoundBox;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=layout.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","const DEFAULT_BORDER_COLOR = 'cyan';\nconst DEFAULT_BORDER_WIDTH = '2px';\n\nexport default { DEFAULT_BORDER_COLOR, DEFAULT_BORDER_WIDTH };","\nimport { HTMLRenderer } from '../renderers/html-renderer';\nimport { SVGRenderer } from '../renderers/svg-renderer';\nimport { Utils } from '../utils/utils';\nexport class Controller {\n  constructor(data, renderer, container) {\n    this.data = data;\n    this.renderer = renderer;\n    global.__renderer = renderer; // TODO change global into diff place\n    this.renderer_id = !Utils.isDOMElement(container) ? container : Utils.getID(container);\n  }\n\n  render() {\n    switch (this.renderer) {\n      case 'html':\n        this.renderHTML();\n        break;\n      case 'svg':\n        this.renderSVG();\n        break;\n      case 'canvas':\n        this.renderCANVAS();\n        break;\n    }\n  }\n\n  renderHTML() {\n    let renderer = new HTMLRenderer(this.data);\n    renderer.createhtml(this.renderer_id);\n  }\n\n  renderSVG() {\n    let renderer = new SVGRenderer(this.data);\n    renderer.createhtml(this.renderer_id);\n  }\n\n  customiseNode(node, borderColor, borderWidth) {\n    if (Utils.isDOMElement(node)) {\n      Utils.highLightNode(node, borderColor, borderWidth);\n    } else {\n      Utils.highLightNode(document.getElementById(node), borderColor, borderWidth);\n    }\n  }\n\n  resetNode(container) {\n    Utils.unHighLightNode(Utils.isDOMElement(container) ? container : document.getElementById(container));\n  }\n}","\nimport { DataPoint } from '../models/data-point';\n\nexport class DataParser {\n  constructor(data) {\n    this.data = data;\n  }\n\n  defaultDataPointLogic() {\n    let nodepoints = [];\n    this.getnodePoints(this.data, nodepoints);\n    return nodepoints;\n  }\n\n  getnodePoints(node, nodepoints) {\n    let datapoint = new DataPoint(node);\n    nodepoints.push(datapoint);\n    node.children.forEach(child => {\n      this.getnodePoints(child, nodepoints);\n    });\n  }\n}","/* eslint no-useless-constructor: \"off\" */\nimport { DataParser } from './data-parser';\n\nexport class HTMLDataAdapter extends DataParser {\n  constructor(data) {\n    super(data);\n  }\n\n  getCoordinates() {\n    return super.defaultDataPointLogic();\n  }\n}","/* eslint no-useless-constructor: \"off\" */\nimport { DataParser } from './data-parser';\n\nexport class SVGDataAdapter extends DataParser {\n  constructor(data) {\n    super(data);\n  }\n\n  getCoordinates() {\n    return super.defaultDataPointLogic();\n  }\n}","/* eslint no-undef: \"off\" */\nimport { Layout, DummyComponent } from 'layout-model';\nimport { Controller } from './controller/controller';\n\nconst width = 600;\n\nconst height = 600;\nconst component1 = new DummyComponent(10, {\n  width: width / 2,\n  height: width / 2\n});\n\nconst component2 = new DummyComponent(10, {\n  width: width / 2,\n  height: width / 2\n});\n\nconst component3 = new DummyComponent(10, {\n  width: width / 2,\n  height: width / 2\n});\n\nconst component4 = new DummyComponent(10, {\n  width: width / 2,\n  height: width / 2\n});\n\nconst config = {\n  host: null,\n  cut: 'v',\n  ratioWeight: 1,\n  lanes: [{\n    host: null,\n    cut: 'h',\n    ratioWeight: 1,\n    preferred: true,\n    lanes: [{\n      host: component1,\n      cut: null,\n      ratioWeight: 1,\n      preferred: true,\n      lanes: []\n    }, {\n      host: component2,\n      cut: null,\n      ratioWeight: 1,\n      lanes: []\n    }]\n  }, {\n    host: null,\n    cut: 'h',\n    ratioWeight: 1,\n    lanes: [{\n      host: component3,\n      cut: null,\n      ratioWeight: 1,\n      lanes: []\n    }, {\n      host: component4,\n      cut: null,\n      ratioWeight: 1,\n      preferred: true,\n      lanes: []\n    }]\n  }]\n};\n\nlet layout = new Layout({\n  width, height\n}, config);\n\nvar root = layout.negotiate().tree();\n\nlet con = new Controller(root, 'html', 'board');\ncon.render();\n\nglobal.con = con;","\nexport class DataPoint {\n  constructor(node) {\n    this.top = node.boundBox.top;\n    this.left = node.boundBox.left;\n    this.width = node.boundBox.width;\n    this.height = node.boundBox.height;\n    this._id = node._id;\n    this.parent = node.parent;\n  }\n}","import { HTMLDataAdapter } from '../data-adapters/html-data';\nimport { Utils } from '../utils/utils';\n\nexport class HTMLRenderer {\n  constructor(data) {\n    this.data = data;\n    this.coordinates = new HTMLDataAdapter(this.data).getCoordinates();\n  }\n\n  createhtml(id) {\n    let mainDiv = document.getElementById(id);\n    this.coordinates.forEach(node => {\n      mainDiv.appendChild(this.createAndPositionDiv(node));\n    });\n  }\n\n  createAndPositionDiv(node) {\n    let div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.left = node.left + 'px';\n    div.style.top = node.top + 'px';\n    div.style.height = node.height + 'px';\n    div.style.width = node.width + 'px';\n    div.style.border = '1px dotted red';\n    Utils.hoverHandler(div);\n    div.id = node._id;\n    return div;\n  }\n}","import { SVGDataAdapter } from '../data-adapters/svg-data';\nimport { Utils } from '../utils/utils';\n\nexport class SVGRenderer {\n  constructor(data) {\n    this.data = data;\n    this.coordinates = new SVGDataAdapter(this.data).getCoordinates();\n  }\n\n  createhtml(id) {\n    let mainDiv = document.getElementById(id);\n    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    let container = this.findContainer();\n    this.setSVGNodeAttributes(svg, {\n      'x': container.left,\n      'y': container.top,\n      'height': container.height,\n      'width': container.width,\n      'id': container._id\n    });\n    svg.style.fill = '#e3e3e3';\n    svg.style.border = '1px dotted red';\n    this.coordinates.forEach(node => {\n      if (node.parent !== null) {\n        svg.appendChild(this.createAndPositionSVG(node));\n      }\n    });\n    mainDiv.appendChild(svg);\n  }\n\n  createAndPositionSVG(node) {\n    let rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    this.setSVGNodeAttributes(rect, {\n      'x': node.left,\n      'y': node.top,\n      'height': node.height,\n      'width': node.width,\n      'id': node._id\n    });\n    rect.style.border = '1px dotted red';\n    Utils.hoverHandler(rect);\n    return rect;\n  }\n\n  findContainer() {\n    return this.coordinates.filter(coordinate => {\n      return coordinate.parent == null;\n    })[0];\n  }\n\n  setSVGNodeAttributes(ele, node) {\n    ele.setAttributeNS(null, 'id', node.id);\n    ele.setAttributeNS(null, 'x', node.x);\n    ele.setAttributeNS(null, 'y', node.y);\n    ele.setAttributeNS(null, 'height', node.height);\n    ele.setAttributeNS(null, 'width', node.width);\n  }\n}","/* eslint no-undef: \"off\" */\nimport def from '../constants/defaults';\n\nexport class Utils {\n  static onHover(event) {\n    console.log('Hover', JSON.stringify(def));\n    this.highLightNode(event.target, def.DEFAULT_BORDER_COLOR, def.DEFAULT_BORDER_WIDTH);\n  }\n\n  static offHover(event) {\n    this.unHighLightNode(event.target);\n  }\n\n  static htmlHover(node, color, width) {\n    color = color !== undefined ? color : def.DEFAULT_BORDER_COLOR;\n    width = width !== undefined ? width : def.DEFAULT_BORDER_WIDTH;\n    node.style.outline = `${color} solid ${width}`;\n  }\n\n  static htmlUnHover(node) {\n    node.style.outline = '';\n  }\n\n  static SVGHover(node, color, width) {\n    console.log('Hover');\n    color = color !== undefined ? color : def.DEFAULT_BORDER_COLOR;\n    width = width !== undefined ? width : def.DEFAULT_BORDER_WIDTH;\n    node.style.stroke = `${color}`;\n    node.style.strokeWidth = `${width}`;\n  }\n\n  static SVGUnhover(node) {\n    node.style.stroke = '';\n    node.style.strokeWidth = '';\n  }\n\n  static highLightNode(node, color, width) {\n    let renderer = global.__renderer;\n\n    switch (renderer) {\n      case 'html':\n        this.htmlHover(node, color, width);\n        break;\n      case 'svg':\n        this.SVGHover(node, color, width);\n        break;\n    }\n  }\n\n  static unHighLightNode(node) {\n    let renderer = global.__renderer;\n    switch (renderer) {\n      case 'html':\n        this.htmlUnHover(node);\n        break;\n      case 'svg':\n        this.SVGUnhover(node);\n        break;\n    }\n  }\n\n  static hoverHandler(container) {\n    container.addEventListener('mouseover', this.onHover.bind(this));\n    container.addEventListener('mouseleave', this.offHover.bind(this));\n  }\n\n  static isDOMElement(element) {\n    return element instanceof Element;\n  }\n\n  static getID(element) {\n    return element.id;\n  }\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnEA;AACA;AACA;AACA,QAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;A","sourceRoot":""}